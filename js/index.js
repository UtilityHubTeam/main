const url=location.protocol+"//"+window.location.host,conf={title:"Onies Land",translate:void 0,snackbar:void 0,isAnchor:!1,source:{jQuery:"https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js",justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},fancybox:{js:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js",css:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"}},runtime:""},btf={debounce:function(e,t,n){let o;return function(){const i=this,s=arguments,a=function(){o=null,n||e.apply(i,s)},c=n&&!o;clearTimeout(o),o=setTimeout(a,t),c&&e.apply(i,s)}},throttle:function(e,t,n){let o,i,s,a=0;n||(n={});const c=function(){a=!1===n.leading?0:(new Date).getTime(),o=null,e.apply(i,s),o||(i=s=null)};return function(){const l=(new Date).getTime();a||!1!==n.leading||(a=l);const r=t-(l-a);i=this,s=arguments,r<=0||r>t?(o&&(clearTimeout(o),o=null),a=l,e.apply(i,s),o||(i=s=null)):o||!1===n.trailing||(o=setTimeout(c,r))}},sidebarPaddingR:()=>{const e=window.innerWidth,t=document.body.clientWidth,n=e-t;e!==t&&(document.body.style.paddingRight=n+"px")},snackbarShow:(e,t,n)=>{const o=void 0!==t&&t,i=void 0!==n?n:2e3,s=conf.snackbar.position,a="light"===document.documentElement.getAttribute("data-theme")?conf.snackbar.bgLight:conf.snackbar.bgDark;snackbar.show({text:e,backgroundColor:a,showAction:o,duration:i,pos:s})},initJustifiedGallery:function(e){e instanceof jQuery||(e=$(e)),e.each((function(e,t){$(this).is(":visible")&&$(this).justifiedGallery({rowHeight:220,margins:4})}))},scrollToDest:(e,t)=>{if(e<0||t<0)return;const n=window.scrollY||window.screenTop;if(n>e&&(e-=70),"CSS"in window&&CSS.supports("scroll-behavior","smooth"))return void window.scrollTo({top:e,behavior:"smooth"});let o=null;t=t||500,window.requestAnimationFrame((function i(s){if(o=o||s,n<e){const a=s-o;window.scrollTo(0,(e-n)*a/t+n),a<t?window.requestAnimationFrame(i):window.scrollTo(0,e)}else{const a=s-o;window.scrollTo(0,n-(n-e)*a/t),a<t?window.requestAnimationFrame(i):window.scrollTo(0,e)}}))},fadeIn:(e,t)=>{e.style.cssText=`display: block; animation: to_show ${t}s`},fadeOut:(e,t)=>{e.addEventListener("animationend",(function t(){e.style.cssText="display: none; animation: '' ",e.removeEventListener("animationend",t)})),e.style.animation=`to_hide ${t}s`},getParents:(e,t)=>{for(;e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},siblings:(e,t)=>[...e.parentNode.children].filter((n=>t?n!==e&&n.matches(t):n!==e)),wrap:(e,t,n)=>{const o=document.createElement(t);for(const[e,t]of Object.entries(n))o.setAttribute(e,t);e.parentNode.insertBefore(o,e),o.appendChild(e)},unwrap:e=>{const t=e.parentNode;t!==document.body&&(t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t))},isHidden:e=>0===e.offsetHeight&&0===e.offsetWidth,getEleTop:e=>{let t=e.offsetTop,n=e.offsetParent;for(;null!==n;)t+=n.offsetTop,n=n.offsetParent;return t}};function browser(){if((e=>{const t={Edge:e.includes("Edg"),Safari:e.includes("Mac"),Firefox:e.includes("Firefox"),GoogleBot:e.includes("Googlebot"),Chrome:!!window.chrome&&"Google Inc."==navigator.vendor};for(let e in t)if(t[e])return e})(navigator.userAgent))return null;window.stop(),window.location.replace(`https://api.${conf.hostname}/err/401`)}function themes(){(e=>{e.saveToLocal={set:function(e,t,n){if(0===n)return;const o=864e5*n,i={value:t,expiry:(new Date).getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const n=JSON.parse(t);if(!((new Date).getTime()>n.expiry))return n.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,n)=>{const o=document.createElement("script");o.src=e,o.async=!0,o.onerror=n,o.onload=o.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(o.onload=o.onreadystatechange=null,t())},document.head.appendChild(o)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const n=saveToLocal.get("aside-status");void 0!==n&&("hide"===n?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"))})(window)}function discordtagcopy(){let e=document.getElementById("copied-success");navigator.clipboard.writeText(e.value);let t=document.getElementById("discord-tag");t.classList.add("hide"),t.textContent="Copied tag success!",setTimeout((function(){t.classList.remove("hide")}),500),setTimeout((function(){t.classList.add("hide"),setTimeout((function(){t.textContent="Discord",t.classList.remove("hide")}),500)}),3e3)}function headsub(){function e(){new Typed("#subtitle",{strings:"A glass of wine with peach and plum spring breeze&#44; Jianghu night rain ten years lights, Never give up being who you want to be".split(","),startDelay:300,typeSpeed:69,loop:!1,backSpeed:40})}"function"==typeof Typed?e():getScript("../utils/cdn/npm/typed.js/typed.min.js").then(e)}function pjaxsel(){let e=["title","#conf-diff","#body-wrap","#fallmenu-hide","#fallmenu-show",".js-pjax"];const t=new Pjax({elements:'a:not([target="_blank"])',selectors:e,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.removeEventListener("scroll",window.toc),window.removeEventListener("scroll",scrollCollect),"object"==typeof preloader&&preloader.initLoading(),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")})),document.addEventListener("pjax:complete",(function(){window.refresh(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),n=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(n)),e.parentNode.replaceChild(t,e)})),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&t.loadUrl("404.html")}))}function player(){$(document).ready((function(){new APlayer({container:document.getElementById("aplayer"),fixed:!0,autoplay:!1,volume:.4,mutex:!0,order:"list",preload:"none",listFolded:!0,theme:"#ee8fdf",audio:[{name:"千年の羽",artist:"小林未郁",url:`${url}/utils/media/audio/千年の羽%20(崩坏3符华印象曲).mp3`,cover:`${url}/utils/media/icon/千年の羽.jpg`,theme:"#e0a47b"},{name:"好きだから。",artist:"ユイカ",url:`${url}/utils/media/audio/好きだから。（feat.れん）%20%20『ユイカ』【MV】.mp3`,cover:`${url}/utils/media/icon/好きだから.png`,theme:"#fbc6ff"},{name:"たぶん",artist:"YOASOBI",url:`${url}/utils/media/audio/YOASOBI「たぶん」.mp3`,cover:`${url}/utils/media/icon/「たぶん」.webp`,theme:"#99eb34"},{name:"東方キャノンボール",artist:"山内真治 (Aniplex)",url:`${url}/utils/media/audio/「東方キャノンボール」OPアニメ.mp3`,cover:`${url}/utils/media/icon/「東方キャノンボール」.jpg`,theme:"#426cf5"}]});var e=document.querySelector(".aplayer-played");new MutationObserver((function(t){t.forEach((function(t){if("attributes"===t.type){var n=window.getComputedStyle(e).getPropertyValue("background-color");document.querySelector(":root").style=`--ptheme: ${n};`}}))})).observe(e,{attributes:!0})}))}function tableOfContents(){const e=document.getElementById("card-toc"),t=e.getElementsByClassName("toc-content")[0],n=t.querySelectorAll(".toc-link"),o=document.getElementById("article-container");window.tocScrollFn=function(){return btf.throttle((function(){const e=window.scrollY||document.documentElement.scrollTop;i(e),r(e)}),100)()},window.addEventListener("scroll",tocScrollFn);const i=function(e){const n=o.clientHeight,i=document.documentElement.clientHeight,s=(e-o.offsetTop)/(n>i?n-i:document.documentElement.scrollHeight-i),a=Math.round(100*s),c=a>100?100:a<=0?0:a;t.setAttribute("progress-percentage",c)},s=conf.isAnchor,a=()=>{e.style.animation="toc-close .2s",setTimeout((()=>{e.style.cssText="opacity:''; animation: ''; right: ''"}),100)};t.addEventListener("click",(e=>{e.preventDefault();const t=e.target.classList.contains("toc-link")?e.target:e.target.parentElement;btf.scrollToDest(btf.getEleTop(document.getElementById(decodeURI(t.getAttribute("href")).replace("#",""))),300),window.innerWidth<900&&a()}));const c=o.querySelectorAll("h1,h2,h3,h4,h5,h6");let l="";const r=function(e){if(0===n.length||0===e)return!1;let o="",i="";if(c.forEach((function(t,n){e>btf.getEleTop(t)-80&&(o="#"+encodeURI(t.getAttribute("id")),i=n)})),l===i)return;if(s&&function(e){if(window.history.replaceState&&e!==window.location.hash){e||(e=location.pathname);const t=conf.title;window.history.replaceState({url:location.href,title:t},t,e)}}(o),""===o)return t.querySelectorAll(".active").forEach((e=>{e.classList.remove("active")})),void(l=i);l=i,t.querySelectorAll(".active").forEach((e=>{e.classList.remove("active")}));const a=n[i];a.classList.add("active"),setTimeout((()=>{!function(e){const n=e.getBoundingClientRect().top,o=t.scrollTop;n>document.documentElement.clientHeight-100&&(t.scrollTop=o+150),n<100&&(t.scrollTop=o-150)}(a)}),0);let r=a.parentNode;for(;!r.matches(".toc");r=r.parentNode)r.matches("li")&&r.classList.add("active")}}function Copy(){let e=window.location.href;navigator.clipboard.writeText(e);var t=["fa-fw","fas","fa-link"];let n=document.querySelector(".linked"),o=document.createElement("i");n.classList.add("hide"),n.textContent="Copied!",n.appendChild(o),o.classList.add(t),setTimeout((function(){n.textContent="Copy URL",n.classList.remove("hide"),n.appendChild(o),o.classList.add(t)}),1e3)}document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("site-name");let t=e&&e.offsetWidth;const n=document.querySelector(".menu .menu-items");let o=n&&n.offsetWidth;const i=document.querySelector("#search-button");let s=i&&i.offsetWidth;const a=(a=!1)=>{a&&(t=e&&e.offsetWidth,o=n&&n.offsetWidth,s=i&&i.offsetWidth);const c=document.getElementById("nav");let l;l=window.innerWidth<768||t+o+s<c.offsetWidth-120,l?c.classList.add("hide-menu"):c.classList.remove("hide-menu")},c=function(){const e=document.getElementById("fallmenu"),t=window.innerHeight+56;if(document.body.scrollHeight<=t)return void(e.style.cssText="opacity: 1; transform: translateX(-38px)");let n=0,o=!0;const i=document.getElementById("page-header"),s="function"==typeof chatBtnHide,a="function"==typeof chatBtnShow;window.scrollCollect=()=>btf.throttle((function(c){const l=window.scrollY||document.documentElement.scrollTop,r=function(e){const t=e>n;return n=e,t}(l);l>56?(r?(i.classList.contains("nav-visible")&&i.classList.remove("nav-visible"),a&&!0===o&&(chatBtnHide(),o=!1)):(i.classList.contains("nav-visible")||i.classList.add("nav-visible"),s&&!1===o&&(chatBtnShow(),o=!0)),i.classList.add("nav-fixed"),"0"===window.getComputedStyle(e).getPropertyValue("opacity")&&(e.style.cssText="opacity: 1; transform: translateX(-38px)")):(0===l&&i.classList.remove("nav-fixed","nav-visible"),e.style.cssText="opacity: ''; transform: ''"),document.body.scrollHeight<=t&&(e.style.cssText="opacity: 1; transform: translateX(-38px)")}),200)(),window.addEventListener("scroll",scrollCollect)},l=()=>{const e=document.body;e.classList.add("read-mode");const t=document.createElement("button");t.type="button",t.className="fas fa-sign-out-alt exit-readmode",e.appendChild(t),t.addEventListener("click",(function n(){e.classList.remove("read-mode"),t.remove(),t.removeEventListener("click",n)}))},r=()=>{"light"===("dark"===document.documentElement.getAttribute("data-theme")?"dark":"light")?(activateDarkMode(),saveToLocal.set("theme","dark",2),void 0!==conf.snackbar&&btf.snackbarShow(conf.snackbar.day_to_night)):(activateLightMode(),saveToLocal.set("theme","light",2),void 0!==conf.snackbar&&btf.snackbarShow(conf.snackbar.night_to_day))},d=()=>{document.getElementById("fallmenu-hide").classList.toggle("show")},u=()=>{btf.scrollToDest(0,500)},m=()=>{const e=document.documentElement.classList;e.contains("hide-aside")?saveToLocal.set("aside-status","show",2):saveToLocal.set("aside-status","hide",2),e.toggle("hide-aside")},f=e=>{const t=parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--global-font-size"));let n="";if(e){if(t>=20)return;n=t+1,document.documentElement.style.setProperty("--global-font-size",n+"px"),!document.getElementById("nav").classList.contains("hide-menu")&&a(!0)}else{if(t<=10)return;n=t-1,document.documentElement.style.setProperty("--global-font-size",n+"px"),document.getElementById("nav").classList.contains("hide-menu")&&a(!0)}saveToLocal.set("global-font-size",n,2)};document.getElementById("fallmenu").addEventListener("click",(function(e){switch(e.target.id||e.target.parentNode.id){case"go-up":u();break;case"fallmenu-conf":d();break;case"readmode":l();break;case"darkmode":r();break;case"hide-aside-btn":m();break;case"font-plus":f(!0);break;case"font-minus":f()}}));const p=function(){document.querySelectorAll("#article-container .tab > button").forEach((function(e){e.addEventListener("click",(function(e){const t=this,n=t.parentNode;if(!n.classList.contains("active")){const e=n.parentNode.nextElementSibling,o=btf.siblings(n,".active")[0];o&&o.classList.remove("active"),n.classList.add("active");const i=t.getAttribute("data-href").replace("#","");[...e.children].forEach((e=>{e.id===i?e.classList.add("active"):e.classList.remove("active")}))}}))}))},h=()=>{document.querySelectorAll("#article-container .tabs .tab-to-top").forEach((function(e){e.addEventListener("click",(function(){btf.scrollToDest(btf.getEleTop(btf.getParents(this,".tabs")),300)}))}))};window.refresh=function(){a(),document.getElementById("nav").classList.add("show"),(()=>{const e=document.getElementById("scroll-down");e&&e.addEventListener("click",(function(){btf.scrollToDest(document.getElementById("content-inner").offsetTop,300)}))})(),c(),function(){const e=document.querySelectorAll("#aside-cat-list .card-category-list-item.parent i");e.length&&e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),this.classList.toggle("expand");const t=this.parentNode.nextElementSibling;btf.isHidden(t)?t.style.display="block":t.style.display="none"}))}))}(),function(){const e=document.querySelectorAll("#article-container :not(.highlight) > table, #article-container > table");e.length&&e.forEach((e=>{btf.wrap(e,"div",{class:"table-wrap"})}))}(),function(){const e=document.querySelectorAll("#article-container .hide-button");e.length&&e.forEach((function(e){e.addEventListener("click",(function(e){const t=this,n=t.nextElementSibling;t.classList.toggle("open"),t.classList.contains("open")&&n.querySelectorAll(".justified-gallery").length>0&&btf.initJustifiedGallery(n.querySelectorAll(".justified-gallery"))}))}))}(),(()=>{const e=document.getElementById("runtimeshow");if(e){const t=e.getAttribute("data-publishDate");e.innerText=btf.diffDate(t)+" "+conf.runtime}})(),p(),h()},refresh(),window.addEventListener("resize",a),window.addEventListener("orientationchange",(()=>{setTimeout(a(!0),100)})),document.querySelectorAll("#sidebar-menus .expand").forEach((function(e){e.addEventListener("click",(function(){this.classList.toggle("hide");const e=this.parentNode.nextElementSibling;btf.isHidden(e)?e.style.display="block":e.style.display="none"}))})),window.addEventListener("touchmove",(function(e){document.querySelectorAll("#nav .menus_item_child").forEach((e=>{btf.isHidden(e)||(e.style.display="none")}))})),window.lazyLoadInstance=new LazyLoad({elements_selector:"img",threshold:0,data_src:"lazy-src"})})),document.getElementsByClassName("copyright")[0].innerHTML="&copy; 2022 - "+(new Date).getFullYear();